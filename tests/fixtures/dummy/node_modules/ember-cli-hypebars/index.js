'use strict';

var Filter = require('broccoli-filter');

function HypeBars(inputTree, options) {
  if (!(this instanceof HypeBars)) {
    return new HypeBars(inputTree, options);
  }

  this.inputTree = inputTree;
  this.options = options;
}

HypeBars.prototype = Object.create(Filter.prototype);
HypeBars.prototype.constructor = HypeBars;
HypeBars.prototype.extensions = ['hbs', 'handlebars'];
HypeBars.prototype.targetExtension = 'js';
HypeBars.prototype.processString = function() {
  return 'import Ember from "ember";\nexport default Ember.HypeBars.template("HYPE HYPE HYPE");';
};

module.exports = {
  name: 'ember-cli-hypebars',
  setupPreprocessorRegistry: function(type, registry) {
    registry.add('template', {
      name: 'ember-cli-htmlbars',
      ext: 'hbs',
      toTree: function(tree) {
        return HypeBars(tree);
      }
    });
  }
};